//
   Created by Administrator on 2017/6/21.
.college-list-container
    #wid-id-1.jarviswidget.jarviswidget-color-blueDark.margin-bottom-0
        header(role='heading')
            .jarviswidget-ctrls(role='menu')
            span.widget-icon
                i.fa.fa-table
            h2 查询条件

            button.btn.btn-primary.set-elecfence(ng-click="evaFenceFn.setFence()")
                span.widget-icon
                    i.fa.fa-table
                span 设置围栏
        div(role='content')
            .widget-body.no-padding(style="min-height:auto!important")
                .col-md-12.padding-bottom-10.padding-top-10
                    #datatable_col_reorder_filter1
                        form.form-inline
                            .form-group.col-md-2
                                label.control-label 学院：
                                select.form-control(ng-model="evaFenceFn.queryOption.collegeId" ui-select2="evaFenceFn.selectCollege2Options()" )
                                    option(ng-repeat="college in evaFenceFn.collegeDropList" value="{{college.id}}" selected="{{evaFenceFn.collegeId==college.id?'selected':''}}") {{college.name}}
                            .form-group.col-md-2
                                label.control-label 专业：
                                select.form-control(ng-model="evaFenceFn.majorId" ui-select2="evaFenceFn.select2MajorOptions(evaFenceFn.collegeId)"  )
                                    option(ng-repeat="major in evaFenceFn.majorDropList" value="{{major.id}}" selected="{{evaFenceFn.majorId==major.id?'selected':''}}") {{major.name}}
                            .form-group.col-md-2
                                label.control-label 班级：
                                select.form-control(ng-model="evaFenceFn.classesId" ui-select2="evaFenceFn.select2ClassOptions(evaFenceFn.majorId)")
                                    option(ng-repeat="class in evaFenceFn.classDropList" value="{{class.id}}" selected="{{evaFenceFn.classesId==class.id?'selected':''}}") {{class.name}}
                            .form-group.col-md-2
                                label.control-label 姓名：
                                input.form-control(type="text" placeholder="" ng-model="evaFenceFn.queryOption.courseName")
                            .form-group.col-md-2
                                label.control-label 学号：
                                input.form-control(type="text" placeholder="" ng-model="evaFenceFn.queryOption.courseName")
                            .form-group.col-md-2
                                .ColVis
                                    button.btn.btn-primary(ng-click="evaFenceFn.findByOption()")
                                        span 查询
    #wid-id-2.jarviswidget.jarviswidget-color-blueDark
        header(role='heading')
            .jarviswidget-ctrls(role='menu')
            span.widget-icon
                i.fa.fa-table
            h2 查询结果
            span.jarviswidget-loader
                i.fa.fa-refresh.fa-spin
        div(role='content')
            .jarviswidget-editbox
            .widget-body.no-padding
                #datatable_col_reorder_wrapper.dataTables_wrapper.form-inline.no-footer
                    table#datatable_col_reorder.table.table-striped.table-bordered.table-hover.dataTable.no-footer(width='100%', role='grid', aria-describedby='datatable_col_reorder_info', style='width: 100%;')
                        thead
                            tr(role='row')
                                th.sorting_asc(data-hide='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-sort='ascending', aria-label='ID: activate to sort column descending', style='width: 35px;') 序号
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 150px;') 学院
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 150px;') 专业
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 150px;') 班级
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 80px;') 学号
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 80px;') 学生姓名
                                th.sorting(data-hide='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Zip: activate to sort column ascending', style='width: 80px;') 被检测到次数
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 35px;') 曾离校
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 50px;') 当前位置
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 50px;') 在线状态
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 50px;') 备注
                                th.sorting(data-class='phone', tabindex='0', aria-controls='datatable_col_reorder', rowspan='1', colspan='1', aria-label='Name: activate to sort column ascending', style='width: 200px;') 操作
                        tbody
                            tr.odd(role='row' ng-repeat="record in evaFenceFn.records")
                                td.sorting_1 {{$index+1}}
                                td {{record.college}}
                                td {{record.major}}
                                td {{record.className}}
                                td {{record.stuId}}
                                td {{record.name}}
                                td {{record.checkedAcount}}
                                td {{record.isLeave}}
                                td {{record.currentLocation}}
                                td {{record.isOnline}}
                                td {{record.comment}}
                                td
                                    a.handle(ui-sref="elecfencecurrent({id:0, date:'2017-05-20'})")
                                        span 当天轨迹
                                    a.handle(ui-sref="elecfencehistory({id:record.id})")
                                        span 历史记录
                                    a.handle(ng-click="evaquesshow({id:record.id})")
                                        span 通知班主任
                    .dt-toolbar-footer
                        .col-sm-6.col-xs-12.hidden-xs
                            #datatable_col_reorder_info.dataTables_info(role='status', aria-live='polite')
                                | 显示第
                                span.txt-color-darken {{((evaFenceFn.page.pageNumber==0?evaFenceFn.page.pageNumber+1:evaFenceFn.page.pageNumber)-1)*10+1}}
                                |  到
                                span.txt-color-darken {{((evaFenceFn.page.pageNumber==0?evaFenceFn.page.pageNumber+1:evaFenceFn.page.pageNumber)-1)*10+evaFenceFn.records.length}}
                                |  条 总共
                                span.text-primary {{evaFenceFn.page.totalElements}}
                                |  条记录
                        .col-sm-6.col-xs-12
                            #datatable_col_reorder_paginate.dataTables_paginate.paging_simple_numbers
                                ul.pagination-sm(uib-pagination, total-items='evaFenceFn.page.totalElements', max-size='evaFenceFn.page.pageSize' ng-model='evaFenceFn.page.pageNumber',ng-change="evaFenceFn.getEvaQuesList()" boundary-link-numbers='true' rotate='false' previous-text="<" next-text=">")